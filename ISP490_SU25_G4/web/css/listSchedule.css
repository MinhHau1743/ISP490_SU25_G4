/*
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/CascadeStyleSheet.css to edit this template
*/
/* 
    Created on : Jul 16, 2025, 10:51:49 PM
    Author     : NGUYEN MINH
*/
html, body {
    height: 100%;
    font-family: 'Inter', sans-serif;
    margin: 0;
}
.content-wrapper {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden;
}
.main-content-body {
    position: relative;
    flex-grow: 1;
    padding: 24px 32px;
}

/* ======================================================== */
/* 1. CSS CHUNG & TOOLBAR                                   */
/* ======================================================== */
.calendar-toolbar {
    display: flex;
    align-items: center;
    margin-bottom: 24px;
    flex-wrap: wrap;
    gap: 16px;
}
.calendar-toolbar .title {
    font-size: 22px;
    font-weight: 600;
    color: #333;
    margin: 0;
    margin-right: 20px;
}
.view-toggle {
    display: flex;
    background-color: #e0f2f1;
    border-radius: 8px;
    padding: 4px;
}
.view-toggle .btn-toggle {
    padding: 8px 16px;
    border: none;
    background-color: transparent;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
    color: #555;
    transition: all 0.2s ease-in-out;
}
.view-toggle .btn-toggle.active {
    background-color: #fff;
    color: #009688;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* Date Navigation Styles */
.date-nav {
    display: flex;
    align-items: center;
    gap: 8px;
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 4px;
    margin-left: 16px;
}
.date-nav .date-range {
    font-weight: 500;
    padding: 0 12px;
    font-size: 14px;
    color: #333;
    min-width: 120px;
    text-align: center;
}
.date-nav .btn-nav {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 6px;
    border: 1px solid transparent;
    border-radius: 6px;
    background-color: transparent;
    cursor: pointer;
    color: #555;
    transition: all 0.2s ease-in-out;
}
.date-nav .btn-nav:hover {
    background-color: #f0f0f0;
    color: #333;
}
.date-nav .btn-nav i {
    width: 16px;
    height: 16px;
}

/* Hide date navigation in list view */
.date-nav.hidden {
    display: none !important;
}

.week-nav {
    display: flex;
    align-items: center;
    gap: 8px;
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 4px;
}
.week-nav .date-range {
    font-weight: 500;
    padding: 0 12px;
    font-size: 14px;
    color: #333;
}
.week-nav .btn-nav {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 6px;
    border: 1px solid transparent;
    border-radius: 6px;
    background-color: transparent;
    cursor: pointer;
}
.week-nav .btn-nav:hover {
    background-color: #f0f0f0;
}
.toolbar-spacer {
    flex-grow: 1;
}
.btn-primary {
    background-color: #8B4513;
    color: white;
    border: 1px solid #8B4513;
    gap: 8px;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    font-weight: 500;
}
.btn-primary:hover {
    background-color: #6a360f;
}
.calendar-view {
    display: none;
}
.calendar-view.active {
    display: block;
}
#week-view .time-label,
#week-view .all-day-slot,
#week-view .time-slot {
    height: 40px;
    line-height: 40px;
}

/* ======================================================== */
/* 2. CSS CHO LỊCH THEO TUẦN (WEEK VIEW)                    */
/* ======================================================== */
#week-view .calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
    grid-auto-rows: 40px;
    height: calc(100vh - 230px);
}
#week-view .calendar-day {
    background-color: #fdfdfd;
    border: 1px solid #f0f0f0;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}
#week-view .day-header {
    height: 60px; /* <-- Đặt chiều cao cố định bạn muốn ở đây */

    /* Các thuộc tính để căn giữa nội dung */
    display: flex;
    flex-direction: column;
    justify-content: center; /* Căn giữa theo chiều dọc */
    align-items: center;     /* Căn giữa theo chiều ngang */

    /* Các thuộc tính cũ */
    padding: 0 8px; /* Bỏ padding dọc */
    border-bottom: 1px solid #f0f0f0;
    background-color: #f9f9f9;
}
#week-view .day-header h3 {
    margin: 0 0 2px 0;
    font-size: 13px;
    font-weight: 600;
}
#week-view .day-header p {
    margin: 0;
    font-size: 12px;
    color: #777;
}
#week-view .day-body {
    padding: 12px;
    flex-grow: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 12px;
}
#week-view .time-slot,
#week-view .all-day-slot {
    display: flex;
    flex-direction: row; /* Xếp các event theo chiều ngang */
    gap: 2px;            /* Khoảng cách nhỏ giữa các event */
    padding: 2px;
    align-items: flex-start;
    overflow: visible;
}
#week-view .time-grid {
    display: grid;
    grid-template-columns: auto repeat(7, 1fr);
    grid-auto-rows: 40px;       /* MỖI DÒNG LUÔN CAO 40px */
    border-top: 1px solid #bbb;
    position: relative;
}

/* 2. Bỏ chiều cao CỐ ĐỊNH của các ô và nhãn giờ để chúng co giãn theo hàng */
#week-view .time-label,
#week-view .time-slot,
#week-view .all-day-slot {
    height: auto; /* Quan trọng: Bỏ chiều cao cố định */
    line-height: normal; /* Cho phép text hiển thị tự nhiên */
}
#week-view .time-slot,
#week-view .all-day-slot {
    display: flex;
    flex-direction: row;
    gap: 2px;
    padding: 2px;
    align-items: flex-start;
    min-height: 40px;
    height: auto;      /* Bỏ fix height, cho tự giãn */
    box-sizing: border-box;
    flex-wrap: wrap;   /* Nếu nhiều event sẽ xuống dòng */
    flex-grow: 0;      /* Không để slot/phần tử co dãn vượt nội dung */
    flex-shrink: 0;
    border-right: 1px solid #ddd;     /* vạch kẻ giữa các ngày */
    border-bottom: 1px solid #ddd;    /* vạch kẻ ngang */
}
#week-view .time-slot:last-child,
#week-view .all-day-slot:last-child {
    border-right: none;
}

/* 3. Căn chỉnh lại hàng tiêu đề ngày (day-header-row) */
/* Việc làm cho header dãn theo các hàng bên dưới là rất khó với cấu trúc HTML hiện tại.
   Thay vào đó, chúng ta sẽ cho hàng "Cả ngày" một chiều cao tối thiểu lớn hơn một chút
   để giao diện cân đối và đồng bộ với ô góc trên bên trái. */


/* Đồng bộ chiều cao ô góc trên bên trái với hàng "Cả ngày" */
#week-view .day-header-row .day-header-cell:first-child {
    height: 40px;
}
/* Giảm padding của các header khác để chúng trông gọn gàng hơn */
#week-view .day-header-cell {
    padding-top: 8px;
    padding-bottom: 8px;
}

/* --- KẾT THÚC --- */
#week-view .event {
    position: relative;
    top: auto;
    left: auto;
    right: auto;

    /* CHỈNH SỬA: Để event co chia đều chiều ngang */
    min-width: 0;     /* Cho phép event thu nhỏ */
    width: auto;      /* Không fix width 100% */
    max-width: none;  /* Không ép cứng chiều ngang */

    /* Nếu dùng flex, event sẽ tự động chia đều ngang */
    flex: 1 1 0;      /* Mỗi event chiếm đều không gian trong slot */

    /* Cho phép text xuống dòng nếu dài */
    white-space: normal;

    /* Chiều cao động dựa trên JS (getEventHeight), hoặc mặc định tối thiểu */
    height: auto;
    min-height: 40px;

    padding: 4px 6px;
    margin: 2px 2px;

    font-size: 14px;
    border-radius: 4px;
    background: var(--event-bg, #2196f3);
    color: #fff;

    box-sizing: border-box;
    overflow: hidden;
    text-overflow: ellipsis;
}
#week-view .time-slot {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    align-items: flex-start;
    padding: 2px 0;
    position: relative;
}


/* --- KẾT THÚC --- */
#week-view .time-slot:has(.event:nth-child(3)) .event,
#week-view .all-day-slot:has(.event:nth-child(3)) .event {
    max-width: calc(33.333% - 2px);
}

/* Nếu có 4 event, mỗi event chiếm 25% */
#week-view .time-slot:has(.event:nth-child(4)) .event,
#week-view .all-day-slot:has(.event:nth-child(4)) .event {
    max-width: calc(25% - 2px);
}

/* 4. Responsive: Trên màn hình nhỏ, cho phép xuống hàng */
@media (max-width: 768px) {
    #week-view .time-slot,
    #week-view .all-day-slot {
        flex-direction: column; /* Xếp dọc trên màn hình nhỏ */
    }


}
.maintenance-card {
    background-color: white;
    border-radius: 6px;
    padding: 12px;
    border-left: 5px solid #ccc;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    position: relative;
    cursor: pointer;
    transition: box-shadow 0.2s;
}
.maintenance-card:hover {
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.card-content .title {
    font-weight: 600;
    font-size: 14px;
    margin: 0 0 6px 0;
    color: #333;
}
.card-content .info {
    font-size: 12px;
    color: #666;
    margin: 3px 0;
    display: flex;
    align-items: center;
    gap: 6px;
}
.maintenance-card.status-upcoming {
    border-color: #ffa000;
}
.maintenance-card.status-inprogress {
    border-color: #1565c0;
}
.maintenance-card.status-completed {
    border-color: #2e7d32;
}
.maintenance-card.status-cancelled {
    border-color: #9E9E9E;
}
.card-actions {
    position: absolute;
    top: 8px;
    right: 8px;
    display: flex;
    gap: 6px;
    opacity: 0;
    transition: opacity 0.2s;
}
.maintenance-card:hover .card-actions {
    opacity: 1;
}
.card-actions a {
    color: #555;
    background-color: rgba(245, 245, 245, 0.9);
    padding: 5px;
    border-radius: 50%;
    display: flex;
    border: 1px solid #eee;
    cursor: pointer;
}
.card-actions .feather {
    width: 14px;
    height: 14px;
}

/* ======================================================== */
/* 3. CSS CHO LỊCH THEO THÁNG (MONTH VIEW)                  */
/* ======================================================== */



/* ======================================================== */
/* 4. CSS CHO POPOVER & MODAL XÓA                          */
/* ======================================================== */
#month-task-popover {
    display: none;
    position: absolute;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 1010;
    padding: 6px;
    width: 180px;
}
.popover-action {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    text-decoration: none;
    color: #333;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
}
.popover-action:hover {
    background-color: #f5f5f5;
}
.popover-action.delete {
    color: #c81e1e;
}
.popover-action.delete:hover {
    background-color: #fbebeb;
}
/* ==== KHÓA CỘT WEEK VIEW KHÔNG BỊ XÊ DỊCH ==== */



/* Cho phép nội dung trong 7 cột ngày thu nhỏ, không đẩy giãn cột */
#week-view .time-slot,
#week-view .all-day-slot,
#week-view .day-header-cell{
    min-width: 0 !important;     /* quan trọng để không bị “đội cột” */
    text-overflow: ellipsis;
}

/* Sự kiện bên trong cũng không được đẩy giãn cột */
#week-view .event{
    min-width: 0 !important;
}

/* Nếu trước đó có đặt flex-wrap: nowrap gây đùn ngang, bỏ nó đi */
#week-view .time-slot,
#week-view .all-day-slot{
    flex-wrap: wrap !important;   /* nhiều event sẽ xuống dòng, không đẩy giãn cột */
}





body {
    background: #fff;
    margin: 0;
    padding: 0;
}
.app-container, .main-panel, .content-wrapper, .main-content-body {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}
/* Điều chỉnh chiều rộng menu nếu cần */
.main-content-body {
    padding: 24px;

}

/* File: /css/style.css */

/* 1. Thiết lập container chính để sắp xếp menu và nội dung */
/* File: /css/style.css */

/* --- SỬA LỖI LAYOUT CHỒNG CHÉO --- */

/* 1. Thiết lập container chính */
.app-container {
    display: grid;
    grid-template-columns: var(--menu-width) 1fr;
    transition: grid-template-columns var(--transition-speed) ease-in-out;
}

/* 2. Style cho panel chính (chứa header và content) */
.main-panel {
    /* Đẩy toàn bộ panel sang phải để chừa chỗ cho menu */
    /* *** ĐIỀU CHỈNH 250px cho khớp với chiều rộng menu của bạn *** */
    margin-left: 250px;

    /* Panel sẽ chiếm toàn bộ không gian còn lại */
    width: calc(100% - 250px);
    display: flex;
    flex-direction: column; /* Xếp header và content theo chiều dọc */
    min-height: 100vh;
    width: calc(100% - 250px);
}

/* 3. Đảm bảo content-wrapper không cần margin nữa */
.content-wrapper {
    flex-grow: 1; /* Cho phép content-wrapper lấp đầy không gian dọc còn lại */
    padding: 20px;
    background-color: #f4f7fa; /* Màu nền cho đẹp hơn */
}

/* 4. (Khuyến nghị) Style cho mainMenu và header */
/* Bạn nên đặt những style này vào file CSS tương ứng của chúng */

/* File: /css/mainMenu.css */
/* Giả sử menu của bạn có class="main-menu" */
.main-menu {
    position: fixed; /* Cố định menu khi cuộn */
    top: 0;
    left: 0;
    width: 250px; /* *** PHẢI KHỚP với margin-left của .main-panel *** */
    height: 100%;
    z-index: 1001; /* Luôn ở trên cùng */
    background: #fff;
    box-shadow: 1px 0 5px rgba(0,0,0,0.1);
}

/* File: /css/header.css */
/* Giả sử header của bạn có class="main-header" */
.main-header {
    position: sticky; /* "Dính" lại ở trên cùng khi cuộn trong .main-panel */
    top: 0;
    z-index: 2;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}

/* Content wrapper with full-width white background */
.content-wrapper {
    background: #fff;
    width: 100%;
    box-sizing: border-box;
}
/* Calendar toolbar with full-width white background, matching title section theme */
.calendar-toolbar {
    background: #fff;
    padding: 15px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
    width: 100%;
    box-sizing: border-box;
    position: sticky;
    top: 0;
    z-index: 2;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Pseudo-element to cover space above toolbar */
.calendar-toolbar::before {
    content: "";
    position: absolute;
    top: -30px;
    left: 0;
    right: 0;
    height: 30px;
    background: #fff;
    z-index: -1;
}

/* Title styling */
.calendar-toolbar .title {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

/* View toggle buttons */
.calendar-toolbar .view-toggle button {
    background: #eee;
    border: none;
    padding: 5px 10px;
    margin: 0 2px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
    color: var(--text-primary);
}

.calendar-toolbar .view-toggle button.active {
    background: #ddd;
}

/* Week navigation */
.calendar-toolbar .week-nav {
    display: flex;
    align-items: center;
    gap: 10px;
}

.calendar-toolbar .week-nav .btn-nav {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    color: var(--text-primary);
}

.calendar-toolbar .week-nav .date-range {
    font-weight: bold;
    color: var(--text-primary);
}

/* Toolbar spacer */
.calendar-toolbar .toolbar-spacer {
    flex-grow: 1;
}

/* Add schedule button */
.calendar-toolbar #add-schedule-btn {
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
}

.calendar-toolbar #add-schedule-btn:hover {
    background: #0056b3;
}

/* Calendar container */
.calendar-content {
    display: flex;
    background: #fff;
    border-radius: 16px;
    overflow: visible;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    width: 100%;
    box-sizing: border-box;
}

/* Individual calendar views */
#day-view, #week-view, #month-view, #list-view {
    background: #fff;
}

/* Time grid, month grid, and list grid */
.time-grid, .month-grid, .list-grid {
    background: #fff;
}

/* Time slots */
.time-slot {
    height: auto;
    border-bottom: 1px solid #bbb;
    border-left: 1px solid #bbb;
    position: relative;
    display: flex;
    flex-direction: column;
    padding: 5px;
    background: #fff;
}

/* All-day slots */
.all-day-slot {
    min-height: 40px;
    background: #fff;
    border-bottom: 1px solid #bbb;
    position: relative;
    display: flex;
    flex-direction: column;
    padding: 5px;
    height: auto;
    z-index: 2;
}

/* All-day event container */
.all-day-event-container {
    grid-row: 1;
    grid-column: 2 / -1;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    min-height: 40px;
    height: auto;
    padding: 5px;
    background: #fff;
    border-bottom: 1px solid #bbb;
    border-radius: 8px;
    z-index: 1;
    position: relative;
}

/* Time grid setup */
.time-grid {
    display: grid;
    /* Change #ddd to #bbb or #ccc */
    border-top: 1px solid #bbb;
    position: relative;
    grid-auto-flow: dense;
    background: #fff;
}

#day-view .time-grid {
    grid-template-columns: auto 1fr;
}
:root{
    --slot-h: 30px;          /* 1 time-slot cao 30 px */
}
#week-view .time-slot{
    height: var(--slot-h);
}

/* Thêm vào cuối khối <style> của bạn */
.event.is-other-event {
    pointer-events: none; /* Làm cho element này bị con trỏ chuột "xuyên qua" */
}

/* Events */
.event {
    position: absolute;
    flex: 1;
    min-width: 100px; /* Giảm chiều rộng tối thiểu */
    left: 10px;  /* Cách lề trái */
    right: 10px; /* Cách lề phải */
    z-index: 1;
    /* SỬA ĐỔI CHÍNH: Giảm các giá trị để event nhỏ hơn */
    min-height: 10px;      /* Chiều cao tối thiểu của event */
    padding: 2px 6px;      /* Giảm đệm trên-dưới và trái-phải */
    font-size: 15px;       /* Giảm cỡ chữ */

    max-width: calc(50% - 3px); /* Tối đa 2 events trên 1 hàng */
    margin: 0;
    box-sizing: border-box;
    height: fit-content;
    border-radius: 4px;
    overflow: hidden;
    color: white;
    cursor: pointer;
    border: 2px solid white;
}

/* All-day events */
.event.all-day {
    position: relative;
    border-radius: 10px;
    height: auto;
    top: 0;
    margin: 5px 0;
    width: 100%;
    box-sizing: border-box;
}

.event.all-day .resize-handle {
    position: absolute;
    right: -2.5px;
    top: 0;
    bottom: 0;
    width: 5px;
    cursor: ew-resize;
    background: transparent;
}

/* Event time text */
.event-time {
    font-weight: bold;
}

/* Day navigation */
.day-nav {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
}

.date {
    margin: 0 10px;
    font-weight: bold;
}

/* Calendar left panel */
.calendar-left {
    flex: 1;
    overflow-y: auto;
    overflow-x: auto;
    height: 80vh;
    position: relative;
}

/* Event details panel */
.event-details {
    display: none;
    width: 350px;
    border-left: 1px solid #bbb;
    padding: 20px 20px 10px;
    background: #fff;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 5px;
    align-self: flex-start;
    height: 80vh;
    overflow-y: auto;
    z-index: 10;
    border-radius: 12px;
}

.event-details.show {
    display: block;
}

.event-details .header {
    position: sticky;
    top: 0;
    background: #fff;
    z-index: 2;
    padding: 10px 0;
    border-bottom: 1px solid #bbb;
}

.event-details .actions {
    display: flex;
    gap: 10px;
    margin-bottom: 24px;
    margin-top: 16px;
    justify-content: flex-end;
}

.event-details .actions a {
    color: #666;
    cursor: pointer;
}

.event-details .event-time-detail {
    font-weight: bold;
    color: #666;
    margin-right: 10px;
}

.event-details .event-title {
    font-size: 18px;
    font-weight: bold;
}

.event-details .event-info {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    color: #333;
}

.event-details .event-info i {
    margin-right: 10px;
    color: #666;
}

.event-details .event-guests {
    margin-top: 20px;
}

.event-details .guests-list {
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
}

.event-details .guest {
    display: flex;
    align-items: center;
    background: #e6f7ff;
    padding: 5px 10px;
    border-radius: 20px;
}

.event-details .guest img {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    margin-right: 5px;
}

.event-header {
    margin-bottom: 10px;
}

.event-details .event-description,
.event-details .event-notes,
.event-details .event-logistics,
.event-details .event-contacts,
.event-details .event-agenda,
.event-details .event-resources {
    margin-top: 15px;
    padding-bottom: 10px;
    font-size: 14px;
}

.event-details .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: purple;
    margin-right: 10px;
}
.event-info i {
    font-size: 1.5em; /* Điều chỉnh giá trị này để tăng hoặc giảm kích thước, ví dụ: 1.2em, 1.8em */
    margin-right: 0.5em; /* Điều chỉnh khoảng cách giữa icon và chữ nếu cần */
}
.actions i {
    font-size: 1.8em; /* Điều chỉnh kích thước tùy ý, ví dụ 24px */
    color: #666;     /* Tùy chỉnh màu sắc nếu muốn */
}

.actions a:hover i {
    color: #000; /* Đổi màu khi di chuột qua cho đẹp hơn */
}
.event:last-child {
    margin-bottom: 0;
}

/* Maintenance cards and task items */
.maintenance-card, .task-item {
    background: #fff;
    border-radius: 12px;
    cursor: pointer;
    margin-bottom: 10px;
    padding: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Day header row */
.day-header-row {
    position: sticky;
    top: 0;
    background: #fff;
    z-index: 2;
    display: grid;
    grid-template-columns: auto repeat(7, 1fr);
    text-align: center;
    border-bottom: 1px solid #bbb;
}

.day-header-cell {
    font-weight: bold;
    padding: 10px;
    border-right: 1px solid #bbb;
}

.day-header-row .day-header-cell:first-child {
    position: sticky;
    left: 0;
    background: #fff;
    z-index: 3;
    border-right: 1px solid #bbb;
}
.day-header-cell.today-highlight {
    background-color: #e0f2f1;
    border-bottom: 2px solid #008080;
    box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);
}

/* Month grid */
.month-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-auto-rows: minmax(80px, auto);
    text-align: center;
    background: #fff;
}

.month-grid-header {
    font-weight: bold;
    border: 1px solid #bbb;
    padding: 5px;
    border-radius: 8px;
}


.day-number {
    position: absolute;
    top: 5px;
    right: 5px;
    font-size: 12px;
    color: #666;
}

.tasks-list {
    display: flex;
    flex-direction: column;
}



.resize-handle {
    position: absolute;
    right: -2.5px;
    top: 0;
    bottom: 0;
    width: 5px;
    cursor: ew-resize;
    background: transparent;
}

.time-grid {
    position: relative;
    min-height: 0;
}

.time-label {
    position: sticky;
    left: 0;
    background: #fff;
    z-index: 1;
    border-right: 1px solid #bbb;
    text-align: right;
    padding-right: 7px;
    color: #666;
    font-size: 12px;
    height: 60px;
    line-height: 60px;
    border-bottom: 1px solid #bbb;
}

.all-day-event-container {
    position: sticky;
    top: 0;
    z-index: 1;
    background: #fff;
}

.event[draggable="true"] {
    cursor: grab !important;
}

.event[draggable="true"]:active {
    cursor: grabbing !important;
}

/* Highlight cho ngày hiện tại trong week-view */


/* Highlight cho số ngày hiện tại trong month-view với hình tròn */
.month-day.today-highlight .day-number {
    /* Thay đổi màu nền thành màu xanh mòng két rất nhạt */
    background-color: #e0f2f1;
    /* Thay đổi màu viền thành màu xanh mòng két đậm */
    border: 2px solid #008080;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    line-height: 24px;
    text-align: center;
    /* Thay đổi màu chữ thành màu xanh mòng két đậm */
    color: #008080;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 5px;
    right: 5px;
}

/* Loại bỏ highlight nền cho toàn ô trong month-view */
.month-day.today-highlight {
    background-color: transparent;
    border: none;
    box-shadow: none;
}
/* Chỉ áp dụng cho list-view, không ảnh hưởng event-details */
#list-view .view-title {
    margin-bottom: 8px;
    font-size: 1.8em;
    color: #333;
}
#list-view .schedule-count {
    margin-bottom: 24px;
    color: #666;
    font-size: 1em;
}

/* Header cho mỗi nhóm ngày */
.date-group-header {
    background-color: #f7f8fa; /* Màu nền xám nhạt */
    padding: 12px 16px;
    border-bottom: 1px solid #e9ecef;
    border-top: 1px solid #e9ecef;
}

.date-group-header .date-title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: #343a40;
}

/* Kiểu dáng cho mỗi dòng sự kiện */
.event-item {
    display: flex; /* Quan trọng: Dùng Flexbox để xếp các cột theo hàng ngang */
    align-items: center; /* Căn giữa các mục theo chiều dọc */
    padding: 14px 16px;
    border-bottom: 1px solid #e9ecef; /* Đường kẻ phân cách giữa các sự kiện */
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.event-item:hover {
    background-color: #f8f9fa; /* Hiệu ứng khi di chuột qua */
}

/* Cột 1: Cột thời gian */
.event-item .event-time-col {
    flex-basis: 150px; /* Chiều rộng cố định cho cột thời gian */
    flex-shrink: 0; /* Ngăn cột này bị co lại */
    color: #555;
    font-size: 0.9rem;
    padding-right: 16px; /* Khoảng cách với cột tiếp theo */
}

/* Cột 2: Cột thông tin chi tiết */
.event-item .event-details-col {
    flex-grow: 1; /* Quan trọng: Cho phép cột này chiếm hết không gian còn lại */
    display: flex;
    align-items: center;
}

/* Chấm màu */
.event-details-col .event-color-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: 12px;
    flex-shrink: 0;
}

/* Thông tin chính (tiêu đề...) */
.event-details-col .event-info {
    display: flex;
    flex-direction: column; /* Sắp xếp tiêu đề và thông tin phụ (nếu có) theo chiều dọc */
}

.event-info .event-title {
    font-weight: 500;
    color: #212529;
    margin-top: 8px;
}
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    pointer-events: none;
}
.modal-overlay.show {
    opacity: 1;
    visibility: visible;
    display: flex;
    pointer-events: auto;
}
.modal-overlay.show .modal-content {
    transform: scale(1);
}
.modal-content {
    background-color: white;
    border-radius: 12px;
    width: 420px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    overflow: hidden;
    transform: scale(0.9);
    transition: transform 0.3s;
    position: relative;
    z-index: 10000;
    max-width: 90vw;
    max-height: 90vh;
}
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 20px 0;
}
.modal-header .close-modal-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    color: #666;
}
.modal-header .close-modal-btn:hover {
    color: #000;
}
.modal-body {
    padding: 20px;
    text-align: center;
    min-height: 100px;
}
.modal-title {
    font-size: 18px;
    font-weight: 600;
    margin: 0;
}
.warning-icon {
    width: 50px;
    height: 50px;
    color: #f59e0b;
    margin-bottom: 15px;
}
.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 15px 20px;
    background-color: #f7fafc;
}
#add-schedule-btn {
    background-color: #e0f2f1 !important;
    color: #000;
    border: none;
    transition: background-color 0.3s ease;
}

#add-schedule-btn:hover {
    background-color: #b2dfdb !important; /* Màu xanh nhạt đậm hơn khi hover */
    color: #000; /* Giữ màu chữ hoặc đổi tùy ý */
    cursor: pointer;
}
/* --- CSS ĐỂ CHIA HÀNG "CẢ NGÀY" THÀNH 7 Ô --- */
.all-day-row-container {
    grid-column: 2 / -1;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    border-bottom: 1px solid #bbb;
}

.week-nav.hidden {
    display: none;
}
/* Thêm vào cuối file CSS của bạn */
#day-view .time-slot {
    height: 40px;
    border-bottom: 1px solid #bbb;
    border-left: 1px solid #bbb;
    position: relative;
    display: flex;
    flex-direction: row; /* Thay đổi từ column thành row để xếp ngang */
    flex-wrap: wrap; /* Cho phép xuống hàng nếu cần */
    gap: 4px; /* Khoảng cách giữa các events */
    padding: 2px 0;
    background: #fff;
    justify-content: flex-start;
    align-items: flex-start;
}
#day-view .time-label {
    height: 40px;
    line-height: 40px;
}
/* All-day slot cũng cần cải thiện tương tự */
#day-view .all-day-slot {
    min-height: 10px;
    border-bottom: 1px solid #bbb;
    border-left: 1px solid #bbb;
    position: relative;
    display: flex;
    flex-direction: row; /* Thay đổi từ column thành row để xếp ngang */
    gap: 5px; /* Khoảng cách giữa các events */
    padding: 5px;
    background: #fff;
    justify-content: flex-start;
    align-items: flex-start;
    flex-wrap: nowrap;
}

/* Events trong day-view cần được điều chỉnh */
#day-view .event {
    position: relative;
    flex-grow: 1;
    flex-basis: 0;
    width: auto;
    max-width: none;
    height: 40px;
    margin: 0;
    padding: 2px 6px;
    font-size: 15px;
    border-radius: 4px;
    box-sizing: border-box;
}

#day-view .time-slot:has(.event):not(
.time-slot:has(.event) + .time-label + .time-slot:has(.event)
) + .time-label + .time-slot:has(.event)::before {
    content: "";
    display: block;
    flex-grow: 1;
    flex-basis: 0;
}
/* Đặt z-index cho .event của đúng slot có ::before */
#day-view .time-slot:has(.event):not(
.time-slot:has(.event) + .time-label + .time-slot:has(.event)
) + .time-label + .time-slot:has(.event) .event {
    z-index: 3;
    position: relative; /* cần để z-index hoạt động */
}

/* All-day events trong day-view */
#day-view .event.all-day {
    position: relative;
    border-radius: 8px;
    flex: 1;
    min-width: 120px;
    max-width: calc(50% - 2.5px);
    margin: 0;
    box-sizing: border-box;
    height: fit-content;
    min-height: 10px;
    padding: 1px;
}

/* Khi có nhiều hơn 2 events, cho phép xuống hàng */
#day-view .time-slot:has(.event:nth-child(3)) .event,
#day-view .all-day-slot:has(.event:nth-child(3)) .event {
    max-width: calc(33.333% - 3.33px); /* 3 events trên 1 hàng */
}

#day-view .time-slot:has(.event:nth-child(4)) .event,
#day-view .all-day-slot:has(.event:nth-child(4)) .event {
    max-width: calc(25% - 3.75px); /* 4 events trên 1 hàng */
}

/* Responsive: trên màn hình nhỏ, cho phép events chiếm toàn bộ chiều rộng */
@media (max-width: 768px) {
    #day-view .event,
    #day-view .event.all-day {
        max-width: 100%;
        min-width: 100%;
    }

    #day-view .time-slot,
    #day-view .all-day-slot {
        flex-direction: column;
    }
}

/* Cải thiện hiển thị text trong event nhỏ */
#day-view .event .event-time {
    font-weight: bold;
    font-size: 11px;
    display: block;
    margin-bottom: 2px;
}

#day-view .event-title-text {
    font-size: 11px;
    line-height: 1.2;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

/* Hover effect cho events */
#day-view .event:hover {
    transform: scale(1.02);
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    z-index: 10;
    transition: all 0.2s ease;
}

/* Dragging state */
#day-view .event[draggable="true"] {
    cursor: grab;
}

#day-view .event[draggable="true"]:active {
    cursor: grabbing;
    opacity: 0.8;
}
.time-slot.slot-active {
    border: 2px solid #007bff;
    background: #e3f7fa;
    transition: background 0.2s, border-color 0.2s;
}
.event-info {
    display: flex;
    align-items: flex-start;
    margin-bottom: 12px;
}
.event-info .bi-people {
    margin-right: 12px;
    margin-top: 5px;
    font-size: 1.1rem;
}
.event-assignments {
    display: flex;
    flex-wrap: wrap; /* Cho phép các thẻ tự động xuống dòng */
    gap: 8px; /* Tạo khoảng cách giữa các thẻ */
}

/* Kiểu dáng cho mỗi thẻ nhân viên */
.employee-tag {
    display: inline-flex;
    align-items: center;
    background-color: #f0f2f5; /* Màu nền xám nhạt */
    border-radius: 16px; /* Bo tròn để tạo hình con nhộng (pill) */
    padding: 4px 10px;
    font-size: 0.9rem;
    color: #333;
    font-weight: 500;
    border: 1px solid #e0e0e0;
}

/* Kiểu dáng cho avatar */
.employee-tag .avatar {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 24px;
    height: 24px;
    border-radius: 50%; /* Bo tròn thành hình tròn */
    background-color: #007bff; /* Màu nền cho avatar */
    color: #fff; /* Màu chữ cái */
    font-weight: bold;
    font-size: 0.75rem;
    margin-right: 8px; /* Khoảng cách giữa avatar và tên */
}

/* Kiểu dáng cho tên nhân viên */
.employee-tag .employee-name {
    white-space: nowrap; /* Ngăn tên bị xuống dòng */
}

/* Thêm các màu nền khác nhau cho avatar để sinh động hơn */
.employee-tag:nth-child(2) .avatar {
    background-color: #28a745;
} /* Xanh lá */
.employee-tag:nth-child(3) .avatar {
    background-color: #dc3545;
} /* Đỏ */
.employee-tag:nth-child(4) .avatar {
    background-color: #ffc107;
} /* Vàng */
/* Thêm vào file CSS của bạn */
.date-range {
    cursor: pointer;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-decoration-thickness: 1px;
}

.date-range:hover {
    color: #007bff; /* Thay đổi màu khi di chuột qua */
}
.event-status.badge {
    font-weight: 500;
    border-radius: 16px;
    font-size: 13px;
}
.badge-upcoming {
    background: #17a2b8;
    color: #fff;
}
.badge-inprogress {
    background: #ffc107;
    color: #212529;
}
.badge-completed {
    background: #28a745;
    color: #fff;
}
.badge-cancelled {
    background: #dc3545;
    color: #fff;
}

#month-view .month-grid {
    position: relative;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    border-left: 1px solid #e5e5e5;
    border-top: 1px solid #e5e5e5;
}
#month-view .month-grid-header {
    padding: 10px 8px;
    font-weight: 600;
    font-size: 13px;
    text-align: center;
    background-color: #f9f9f9;
    border-right: 1px solid #e5e5e5;
    border-bottom: 1px solid #e5e5e5;
}
#month-view .month-long-task {
    position: absolute;
    height: 28px;
    border-radius: 10px;
    font-size: 13px;
    color: white;
    padding: 5px 16px;
    box-sizing: border-box;
    z-index: 20;
    white-space: nowrap;
    display: flex;
    align-items: center;
    top: 8px; /* vị trí trên */
    left: 0;
}
#month-view .month-day {
    border-right: 1px solid #e5e5e5;
    border-bottom: 1px solid #e5e5e5;
    min-height: 100px;
    padding: 8px;
    font-size: 13px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    position: relative;
    min-height: 90px;
    height: auto;
    border: 1px solid #ddd;
    padding-top: 25px;
    background: #fff;
    border-radius: 8px;
}
#month-view .month-day.other-month {
    background-color: #fafafa;
    color: #aaa;
}
#month-view .day-number {
    font-weight: 500;
    margin-bottom: 4px;
}
#month-view .tasks-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
    position: relative;
}
#month-view .task-item{
    position: relative;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    z-index: 10;
    /* cho phép xuống dòng và cắt gọn sau N dòng */
    white-space: normal;
    overflow: hidden;
    display: block;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;   /* tăng lên 3 nếu muốn 3 dòng */
    line-height: 1.3;
    max-height: calc(1.3em * 2 + 6px); /* khớp với số dòng ở trên */
    word-break: break-word;  /* phòng trường hợp từ quá dài */
}
/* day/week view */
.event.is-completed{
    opacity:.6;
    filter: grayscale(10%);
    border: 1px dashed #28a745;
    cursor: default;
}
.event.is-completed[draggable="true"] {
    cursor: default;
}

/* month/list item */
.task-item.is-completed,
.event-item.is-completed{
    opacity:.6;
    text-decoration: line-through;
}
/* Hiệu ứng mở mượt */
.confirm-modal .modal-dialog {
    transform: translateY(8px) scale(.98);
    transition: transform .18s ease;
}
.confirm-modal.show .modal-dialog {
    transform: translateY(0) scale(1);
}

/* Thẩm mỹ chung */
.confirm-modal .modal-content {
    border-radius: 12px;
}
.confirm-modal .modal-icon {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background-color: #e0f2f1; /* đồng bộ tông teal bạn đang dùng */
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
}
.confirm-modal .modal-icon i {
    font-size: 32px;
    color: #008080;
}

/* Nút xác nhận tông teal */
.btn-teal {
    background-color: #008080;
    color: #fff;
    border: none;
}
.btn-teal:hover,
.btn-teal:focus {
    background-color: #006d6d;
    color: #fff;
}

/* Nút Hủy sáng hơn */
.btn-light {
    background: #f5f7f9;
    border: 1px solid #e6e6e6;
}
.btn-light:hover {
    background: #eef1f4;
}
/* Toast Container */
#toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    max-width: 400px;
}

/* Toast Styles */
.toast {
    display: flex;
    align-items: center;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    margin-bottom: 10px;
    padding: 12px 16px;
    min-height: 60px;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s ease;
    border-left: 4px solid #ccc;
    position: relative;
    overflow: hidden;
}

.toast.show {
    opacity: 1;
    transform: translateX(0);
}

.toast.hide {
    opacity: 0;
    transform: translateX(100%);
}

/* Toast Types */
.toast.success {
    border-left-color: #28a745;
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
}

.toast.error {
    border-left-color: #dc3545;
    background: linear-gradient(135deg, #f8d7da 0%, #f1b0b7 100%);
}

.toast.warning {
    border-left-color: #ffc107;
    background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
}

.toast.info {
    border-left-color: #17a2b8;
    background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
}

/* Toast Icon */
.toast-icon {
    font-size: 20px;
    margin-right: 12px;
    flex-shrink: 0;
}

.toast.success .toast-icon {
    color: #28a745;
}

.toast.error .toast-icon {
    color: #dc3545;
}

.toast.warning .toast-icon {
    color: #ffc107;
}

.toast.info .toast-icon {
    color: #17a2b8;
}

/* Toast Content */
.toast-content {
    flex: 1;
    font-size: 14px;
    line-height: 1.4;
    color: #333;
}

.toast-title {
    font-weight: 600;
    margin-bottom: 2px;
}

.toast-message {
    color: #666;
}

/* Toast Close Button */
.toast-close {
    background: none;
    border: none;
    font-size: 18px;
    color: #999;
    cursor: pointer;
    padding: 0;
    margin-left: 8px;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.toast-close:hover {
    background: rgba(0, 0, 0, 0.1);
    color: #666;
}

/* Progress Bar */
.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: rgba(0, 0, 0, 0.2);
    transition: width linear;
}

.toast.success .toast-progress {
    background: #28a745;
}

.toast.error .toast-progress {
    background: #dc3545;
}

.toast.warning .toast-progress {
    background: #ffc107;
}

.toast.info .toast-progress {
    background: #17a2b8;
}

/* Responsive */
@media (max-width: 480px) {
    #toast-container {
        left: 20px;
        right: 20px;
        max-width: none;
    }
}
.filter-container {
    display: flex; /* Sử dụng flexbox để căn chỉnh */
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-end; /* Căn các item xuống dưới */
    gap: 24px;
    background-color: var(--primary-bg-light);
    padding: 16px;
    border-radius: 8px;
    border: 1px solid #B2D6D9;
    margin-top: 16px; /* Tạo khoảng cách với toolbar */
}

.filter-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    align-items: flex-end;
    flex-grow: 1; /* Cho phép chiếm hết không gian còn lại */
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.filter-group label {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
}

.filter-actions {
    display: flex;
    gap: 12px;
}

/* -- Các nút hành động trong bộ lọc -- */
.btn-apply-filter, .btn-reset-filter {
    height: 38px;
    padding: 0 16px;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: opacity 0.2s;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-apply-filter {
    background-color: var(--primary-color);
    color: white;
}
.btn-apply-filter:hover {
    opacity: 0.9;
}

.btn-reset-filter {
    background-color: #6C757D;
    color: white;
}
.btn-reset-filter:hover {
    opacity: 0.9;
}
.filter-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    height: 38px;
    padding: 0 12px;
    background: white;
    border: 1px solid #B2D6D9;
    border-radius: 6px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s, color 0.2s;
}
.filter-button:hover {
    border-color: var(--primary-color);
}
.filter-button.active {
    background-color: var(--primary-bg-light);
    border-color: var(--primary-color);
    color: var(--primary-color);
}